# Telegraph

Telegraph attempts to streamline Node.js development. The aim is to combine [Express](https://github.com/visionmedia/express)
with [Socket.IO](https://github.com/LearnBoost/socket.io) to into a reactor pattern style web framework for quickly building 
event driven projects.

**Get started:**

```
npm install telegraph -g
telegraph init
```

---

``` javascript
// Current defaults for Telegraph
module.exports = App = new Telegraph.Server({
     'appname'        : "Telegraph",   // For aesthetic purposes, the name of the application
     'websockets'     : true,          // Enables websocket events via socket.io
     'view engine'    : 'ejs'          // The templating engine used to render views
});
```

## Starting the Server:

```
telegraph start
```

*or* use [foreman](http://rubygems.org/gems/foreman)

```
foreman start
```

---

## Configuration

Configure the express server like so:

``` javascript
App.use("middleware-name", { settings });
App.use(middlewarename, { settings });

App.set("setting", "value");
```

---

## Routes

``` javascript
App.on("get:index", function(req, res) { ... });
App.on("get:articles", function(req, res) { ... });
App.on("post:articles", function(req, res) { ... });
```

---

## Using Databases

By default, Telegraph uses loose wrappers around [Backbone](https://github.com/documentcloud/backbone) Models and 
Collections as a temporary datastore. `CouchDB` can be configured in the `/config/database.json` file:

```json
{
    "development" : {

        "adapter"      : "couch",
        "host"         : "hostname",
        "dbname"       : "database name",
        "port"         : port,

        "auth"         : {
            "username" : "username",
            "password" : "password"
        }
    } 
}
```

This will setup [cradle]("https://github.com/cloudhead/cradle") for the above settings at `App.db`. 

---

## Heroku Hosting:

Telegraph is already configured for Heroku Cedar Stack. After running a `telegraph init`, do the following:

```
heroku create --stack cedar
git push heroku master
```